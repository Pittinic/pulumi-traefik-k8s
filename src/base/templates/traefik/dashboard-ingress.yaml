resources:
  traefik-dashboard-ingress:
    type: kubernetes:networking.k8s.io/v1:Ingress
    properties:
      metadata:
        namespace: ${namespace}
        name: traefik-dashboard-ingress
        annotations:
          traefik.ingress.kubernetes.io/router.entrypoints: ${traefik.ports.dashboard.name}
          traefik.ingress.kubernetes.io/router.tls: "true"
          traefik.ingress.kubernetes.io/router.tls.certresolver: ${traefik.tls-resolver-name}
          pulumi.com/skipAwait: "true"

      spec:
        rules:
          - host: ${urls.prefix}traefik${urls.suffix}.${domain}
            http:
              paths:
                - path: /
                  pathType: Prefix
                  backend:
                    service:
                      name: ${traefik.service-name}
                      port:
                        number: ${traefik.ports.dashboard.targetPort}
